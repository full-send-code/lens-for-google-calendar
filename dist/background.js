(()=>{"use strict";({721:function(){var e=this&&this.__spreadArray||function(e,n,o){if(o||2===arguments.length)for(var t,a=0,r=n.length;a<r;a++)!t&&a in n||(t||(t=Array.prototype.slice.call(n,0,a)),t[a]=n[a]);return e.concat(t||Array.prototype.slice.call(n))};function n(n,o){for(var t=[],a=2;a<arguments.length;a++)t[a-2]=arguments[a];var r="[Lens for Google Calendar Background]";switch(n){case"warn":console.warn.apply(console,e(["".concat(r," ").concat(o)],t,!1));break;case"error":console.error.apply(console,e(["".concat(r," ").concat(o)],t,!1));break;default:console.log.apply(console,e(["".concat(r," ").concat(o)],t,!1))}}n("log","Background script loaded");var o=new Map;chrome.runtime.onInstalled.addListener((function(e){if("install"===e.reason)n("log","Extension installed");else if("update"===e.reason){var o=chrome.runtime.getManifest().version;n("log","Extension updated to version ".concat(o))}})),chrome.tabs.onUpdated.addListener((function(e,n){"loading"===n.status&&o.delete(e)})),chrome.runtime.onMessage.addListener((function(e,t,a){var r;try{var s=null===(r=t.tab)||void 0===r?void 0:r.id;switch(n("log","Received message:",e,"from tab:",s),e.action){case"contentScriptLoaded":s&&(o.set(s,!0),n("log","Content script loaded in tab ".concat(s))),a({status:"acknowledged",timestamp:Date.now(),debug:!1});break;case"openOptions":chrome.runtime.openOptionsPage(),a({status:"success",action:"openedOptions"});break;default:a({status:"received",message:"Unknown action type"})}}catch(e){n("error","Error handling message",e),a({status:"error",error:String(e)})}return!0}))}})[721]()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoib0NBQ0EsSUFBSUEsRUFBaUJDLE1BQVFBLEtBQUtELGVBQWtCLFNBQVVFLEVBQUlDLEVBQU1DLEdBQ3BFLEdBQUlBLEdBQTZCLElBQXJCQyxVQUFVQyxPQUFjLElBQUssSUFBNEJDLEVBQXhCQyxFQUFJLEVBQUdDLEVBQUlOLEVBQUtHLE9BQVlFLEVBQUlDLEVBQUdELEtBQ3hFRCxHQUFRQyxLQUFLTCxJQUNSSSxJQUFJQSxFQUFLRyxNQUFNQyxVQUFVQyxNQUFNQyxLQUFLVixFQUFNLEVBQUdLLElBQ2xERCxFQUFHQyxHQUFLTCxFQUFLSyxJQUdyQixPQUFPTixFQUFHWSxPQUFPUCxHQUFNRyxNQUFNQyxVQUFVQyxNQUFNQyxLQUFLVixHQUN0RCxFQUdBLFNBQVNZLEVBQUlDLEVBQU9DLEdBRWhCLElBREEsSUFBSUMsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtkLFVBQVVDLE9BQVFhLElBQ3BDRCxFQUFLQyxFQUFLLEdBQUtkLFVBQVVjLEdBRTdCLElBQUlDLEVBQVMsd0NBQ2IsT0FBUUosR0FDSixJQUFLLE9BQ0RLLFFBQVFDLEtBQUtDLE1BQU1GLFFBQVNyQixFQUFjLENBQUMsR0FBR2MsT0FBT00sRUFBUSxLQUFLTixPQUFPRyxJQUFXQyxHQUFNLElBQzFGLE1BQ0osSUFBSyxRQUNERyxRQUFRRyxNQUFNRCxNQUFNRixRQUFTckIsRUFBYyxDQUFDLEdBQUdjLE9BQU9NLEVBQVEsS0FBS04sT0FBT0csSUFBV0MsR0FBTSxJQUMzRixNQUNKLFFBQ0lHLFFBQVFOLElBQUlRLE1BQU1GLFFBQVNyQixFQUFjLENBQUMsR0FBR2MsT0FBT00sRUFBUSxLQUFLTixPQUFPRyxJQUFXQyxHQUFNLElBRXJHLENBQ0FILEVBQUksTUFBTyw0QkFFWCxJQUFJVSxFQUFnQixJQUFJQyxJQUV4QkMsT0FBT0MsUUFBUUMsWUFBWUMsYUFBWSxTQUFVQyxHQUM3QyxHQUF1QixZQUFuQkEsRUFBUUMsT0FDUmpCLEVBQUksTUFBTyw0QkFFVixHQUF1QixXQUFuQmdCLEVBQVFDLE9BQXFCLENBQ2xDLElBQUlDLEVBQWNOLE9BQU9DLFFBQVFNLGNBQWNDLFFBQy9DcEIsRUFBSSxNQUFPLGdDQUFnQ0QsT0FBT21CLEdBQ3RELENBQ0osSUFFQU4sT0FBT1MsS0FBS0MsVUFBVVAsYUFBWSxTQUFVUSxFQUFPQyxHQUNyQixZQUF0QkEsRUFBV0MsUUFFWGYsRUFBY2dCLE9BQU9ILEVBRTdCLElBRUFYLE9BQU9DLFFBQVFjLFVBQVVaLGFBQVksU0FBVWIsRUFBUzBCLEVBQVFDLEdBQzVELElBQUlDLEVBQ0osSUFDSSxJQUFJUCxFQUE4QixRQUFyQk8sRUFBS0YsRUFBT0csV0FBd0IsSUFBUEQsT0FBZ0IsRUFBU0EsRUFBR0UsR0FHdEUsT0FGQWhDLEVBQUksTUFBTyxvQkFBcUJFLEVBQVMsWUFBYXFCLEdBRTlDckIsRUFBUStCLFFBQ1osSUFBSyxzQkFFR1YsSUFDQWIsRUFBY3dCLElBQUlYLEdBQU8sR0FDekJ2QixFQUFJLE1BQU8sZ0NBQWdDRCxPQUFPd0IsS0FFdERNLEVBQWEsQ0FDVEosT0FBUSxlQUNSVSxVQUFXQyxLQUFLQyxNQUNoQkMsT0F2REgsSUF5REQsTUFFSixJQUFLLGNBRUQxQixPQUFPQyxRQUFRMEIsa0JBQ2ZWLEVBQWEsQ0FBRUosT0FBUSxVQUFXUSxPQUFRLGtCQUMxQyxNQUVKLFFBRUlKLEVBQWEsQ0FBRUosT0FBUSxXQUFZdkIsUUFBUyx3QkFHeEQsQ0FDQSxNQUFPTyxHQUNIVCxFQUFJLFFBQVMseUJBQTBCUyxHQUV2Q29CLEVBQWEsQ0FBRUosT0FBUSxRQUFTaEIsTUFBTytCLE9BQU8vQixJQUNsRCxDQUVBLE9BQU8sQ0FDWCxHLElDckZvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGVucy1mb3ItZ29vZ2xlLWNhbGVuZGFyLy4vc3JjL3NlcnZpY2VzL2JhY2tncm91bmQudHMiLCJ3ZWJwYWNrOi8vbGVucy1mb3ItZ29vZ2xlLWNhbGVuZGFyL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbi8vIEJhY2tncm91bmQgc2NyaXB0IGZvciBMZW5zIGZvciBHb29nbGUgQ2FsZW5kYXJcbnZhciBERUJVR19NT0RFID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcbmZ1bmN0aW9uIGxvZyhsZXZlbCwgbWVzc2FnZSkge1xuICAgIHZhciBkYXRhID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZGF0YVtfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHByZWZpeCA9ICdbTGVucyBmb3IgR29vZ2xlIENhbGVuZGFyIEJhY2tncm91bmRdJztcbiAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIF9fc3ByZWFkQXJyYXkoW1wiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIpLmNvbmNhdChtZXNzYWdlKV0sIGRhdGEsIGZhbHNlKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5KFtcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiKS5jb25jYXQobWVzc2FnZSldLCBkYXRhLCBmYWxzZSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5KFtcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiKS5jb25jYXQobWVzc2FnZSldLCBkYXRhLCBmYWxzZSkpO1xuICAgIH1cbn1cbmxvZygnbG9nJywgJ0JhY2tncm91bmQgc2NyaXB0IGxvYWRlZCcpO1xuLy8gS2VlcCB0cmFjayBvZiB3aGljaCB0YWJzIGhhdmUgdGhlIGV4dGVuc2lvbiBsb2FkZWRcbnZhciBhY3RpdmVUYWJzTWFwID0gbmV3IE1hcCgpO1xuLy8gQ2hyb21lIHJ1bnRpbWUgb25JbnN0YWxsZWQgbGlzdGVuZXJcbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChkZXRhaWxzKSB7XG4gICAgaWYgKGRldGFpbHMucmVhc29uID09PSAnaW5zdGFsbCcpIHtcbiAgICAgICAgbG9nKCdsb2cnLCAnRXh0ZW5zaW9uIGluc3RhbGxlZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkZXRhaWxzLnJlYXNvbiA9PT0gJ3VwZGF0ZScpIHtcbiAgICAgICAgdmFyIHRoaXNWZXJzaW9uID0gY2hyb21lLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uO1xuICAgICAgICBsb2coJ2xvZycsIFwiRXh0ZW5zaW9uIHVwZGF0ZWQgdG8gdmVyc2lvbiBcIi5jb25jYXQodGhpc1ZlcnNpb24pKTtcbiAgICB9XG59KTtcbi8vIExpc3RlbiBmb3IgdGFiIHVwZGF0ZXMgdG8gcmVzZXQgaW5qZWN0ZWQgc3RhdGUgd2hlbiBuYXZpZ2F0aW5nXG5jaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKHRhYklkLCBjaGFuZ2VJbmZvKSB7XG4gICAgaWYgKGNoYW5nZUluZm8uc3RhdHVzID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgLy8gVGFiIGlzIG5hdmlnYXRpbmcsIHJlc2V0IHRoZSBpbmplY3Rpb24gc3RhdGVcbiAgICAgICAgYWN0aXZlVGFic01hcC5kZWxldGUodGFiSWQpO1xuICAgIH1cbn0pO1xuLy8gTGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIGNvbnRlbnQgc2NyaXB0cyBvciBwb3B1cFxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgdGFiSWQgPSAoX2EgPSBzZW5kZXIudGFiKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQ7XG4gICAgICAgIGxvZygnbG9nJywgJ1JlY2VpdmVkIG1lc3NhZ2U6JywgbWVzc2FnZSwgJ2Zyb20gdGFiOicsIHRhYklkKTtcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBhY3Rpb24gdHlwZXNcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSAnY29udGVudFNjcmlwdExvYWRlZCc6IHtcbiAgICAgICAgICAgICAgICAvLyBDb250ZW50IHNjcmlwdCBpcyBsZXR0aW5nIHVzIGtub3cgaXQncyBsb2FkZWRcbiAgICAgICAgICAgICAgICBpZiAodGFiSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFic01hcC5zZXQodGFiSWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBsb2coJ2xvZycsIFwiQ29udGVudCBzY3JpcHQgbG9hZGVkIGluIHRhYiBcIi5jb25jYXQodGFiSWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYWNrbm93bGVkZ2VkJyxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogREVCVUdfTU9ERVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnb3Blbk9wdGlvbnMnOiB7XG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB0byBvcGVuIG9wdGlvbnMgcGFnZVxuICAgICAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSgpO1xuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN0YXR1czogJ3N1Y2Nlc3MnLCBhY3Rpb246ICdvcGVuZWRPcHRpb25zJyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHJlc3BvbnNlIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZXhpc3RpbmcgY29kZVxuICAgICAgICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN0YXR1czogJ3JlY2VpdmVkJywgbWVzc2FnZTogJ1Vua25vd24gYWN0aW9uIHR5cGUnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2coJ2Vycm9yJywgJ0Vycm9yIGhhbmRsaW5nIG1lc3NhZ2UnLCBlcnJvcik7XG4gICAgICAgIC8vIFNlbmQgZXJyb3IgcmVzcG9uc2VcbiAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3RhdHVzOiAnZXJyb3InLCBlcnJvcjogU3RyaW5nKGVycm9yKSB9KTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHRydWUgdG8gaW5kaWNhdGUgd2Ugd2lsbCBzZW5kIGEgcmVzcG9uc2UgYXN5bmNocm9ub3VzbHlcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSB7fTtcbl9fd2VicGFja19tb2R1bGVzX19bNzIxXSgpO1xuIl0sIm5hbWVzIjpbIl9fc3ByZWFkQXJyYXkiLCJ0aGlzIiwidG8iLCJmcm9tIiwicGFjayIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyIiwiaSIsImwiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImNvbmNhdCIsImxvZyIsImxldmVsIiwibWVzc2FnZSIsImRhdGEiLCJfaSIsInByZWZpeCIsImNvbnNvbGUiLCJ3YXJuIiwiYXBwbHkiLCJlcnJvciIsImFjdGl2ZVRhYnNNYXAiLCJNYXAiLCJjaHJvbWUiLCJydW50aW1lIiwib25JbnN0YWxsZWQiLCJhZGRMaXN0ZW5lciIsImRldGFpbHMiLCJyZWFzb24iLCJ0aGlzVmVyc2lvbiIsImdldE1hbmlmZXN0IiwidmVyc2lvbiIsInRhYnMiLCJvblVwZGF0ZWQiLCJ0YWJJZCIsImNoYW5nZUluZm8iLCJzdGF0dXMiLCJkZWxldGUiLCJvbk1lc3NhZ2UiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJfYSIsInRhYiIsImlkIiwiYWN0aW9uIiwic2V0IiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImRlYnVnIiwib3Blbk9wdGlvbnNQYWdlIiwiU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==